<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="${lang}" lang="${lang}">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=${charset}" />

    <title tal:content="title">Exciting xhtml slimfast</title>

    <style type="text/css" media="screen">
      /*<![CDATA[*/
      @import url(${stylepath}/${skinname}/main.css);
      /*]]>*/
    </style>
    <!-- Custom style sheet if available, could either be a pref or a subpage of the user page
    <style type="text/css" media="all">
      /*<![CDATA[*/
      @import url(${stylepath}/custom.css);
      /*]]>*/
    </style>-->
    <!-- Style sheet used for printing -->
    <link rel="stylesheet" type="text/css" media="print" href="${stylepath}/commonPrint.css" />
    <!-- insane fixes as usual --><!--[if IE]>  
    <style type="text/css" media="all">@import url(${stylepath}/${skinname}/IEFixes.css);</style>
    <![endif]-->
    <link tal:condition="favicon" rel="shortcut icon" href="${favicon}" type="image/x-icon" />
    <!-- Disable IE6 image toolbar -->
    <meta http-equiv="imagetoolbar" content="no" />
    <script type="text/javascript" src="${stylepath}/wikibits.js">
    </script>
  </head>

  <body>
    <div id="visual-portal-wrapper">

      <div id="portal-column-content">
        <div id="content">
          <a name="top" id="contentTop"></a>
          <div class="documentContent">

            <h1 class="documentFirstHeading" tal:content="title">Leonardo da Vinci</h1>

            <div id="bodyContent" class="plain">
              <h3 id="siteSubtitle" i18n:translate="string:fromwikipedia">From Wikipedia, the free encyclopedia.</h3>
              <div tal:condition="subtitle"  id="documentSubtitle" tal:content="structure subtitle"></div>
              <!-- <esi:include src="userxy/message"/> cached per user, purged on new message-->
              <div tal:condition="newtalk" class="portalMessage" tal:content="newtalk"></div>
              <!-- the content area is cached with the remaining inexpensive sceleton, one version for all.
              The edit links and right-click section stuff is attached from js -->
              <!-- start content -->

              ${bodytext}

              <!-- end content -->
              <div class="documentByLine">
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- end of main content block -->
      <!-- start of the left (by default at least) column -->
      <div id="portal-column-one">
        <!--<esi:include src="thisurl?esiview=contentviews&watch=0&priv=sysop"/> tricky to purge because of the many different versions,
        might not be worth it for non-anons -->
        <div id="portlet-contentViews" class="portlet">
          <h5 class="hiddenStructure">Views</h5>

          <ul class="contentViews">
            <li tal:repeat="action content_actions" 
            tal:attributes="id string:contentaction-${repeat/action/key}; class action/class|default"><a
              tal:attributes="title action/ttip|default; accesskey action/akey|default;href action/href|default"
              tal:content="action/text">Linktext</a></li>
          </ul>

        </div>
        <!--<esi:include src="userxy?personaltools"/> cached per user, just rendered once per session -->
        <div class="portlet" id="portlet-personal">
          <h5 class="hiddenStructure" i18n:translate="string:personaltools">Personal Tools</h5>

          <div class="portletBody">
            <div class="portletContent odd">
              <ul id="portal-personaltools">
                <li tal:repeat="item personal_urls" 
                tal:attributes="id string:personaltools-${repeat/item/key};"><a href="myuserpage"
                  tal:attributes="href item/href; accesskey item/akey | default; title item/ttip"
                  tal:content="item/text">Log in</a></li>
              </ul>
            </div>
          </div>
        </div>
        <!--<esi:include src="staticLogoNaviSearch"/> same for all pages, contains quite a few messages that are worth caching -->
        <div class="portlet" id="portlet-logo">
          <a href="${nav_urls/mainpage/href}" i18n:attributes="title string:mainpage"></a>
        </div>

        <div class="portlet" id="portlet-navigation-tree">
          <h5 i18n:translate="string:navigation">Navigation</h5>

          <div class="portletBody">
            <div class="portletContent odd">
              <ul>
                <li><a href="${nav_urls/mainpage/href}"
                  i18n:attributes="accesskey string:accesskey-mainpage | default; title string:tooltip-mainpage"
                  i18n:translate="string:mainpage">Main Page</a></li>

                <li><a href="${nav_urls/randompage/href}"
                  i18n:attributes="accesskey string:accesskey-randompage | default; title string:tooltip-randompage" 
                  i18n:translate="string:randompage">Random Page</a></li>

                <li><a href="${nav_urls/currentevents/href"
                  i18n:translate="string:currentevents">Current Events</a></li>

                <li><a href="${nav_urls/sitesupport/href}"
                  i18n:translate="string:sitesupport">Contact us</a></li>
              </ul>
            </div>
          </div>
        </div>

        <div id="portlet-search" class="portlet">
          <h5 i18n:translate="string:search">Search</h5>

          <div class="portletBody">
            <div class="portletContent odd">
              <form name="searchform" action="${searchaction}" id="searchform">
                <input id="searchGadget" name="search" type="text" tabindex="30001"
                i18n:attributes="accesskey string:accesskey-search | default"/>

                <input type='submit' name="go" value="Go" class="searchButton" 
                i18n:attributes="value string:go"/>&nbsp;<input type='submit'
                value="Search" class="searchButton"
                i18n:attributes="value string:search"/>
              </form>
            </div>
          </div>
        </div>

        <!--<esi:include src="thisurl?esiview=toolbox&loggedin=0"/> one anon, one logged-in user version per page because of the links -->
        <div class="portlet" id="portlet-toolbox">
          <h5 i18n:translate="string:toolbox">Toolbox</h5>

          <div class="portletBody">
            <div class="portletContent odd">
              <ul>

                <li><a href="${nav_urls/help/href}"
                  i18n:translate="string:help">Help</a></li>

                <li><a href="${nav_urls/recentchanges/href}"
                  i18n:attributes="accesskey string:accesskey-recentchanges | default; title string:tooltip-recentchanges | default" 
                  i18n:translate="string:recentchanges">Recent Changes</a></li>

                <li><a href="${nav_urls/recentchangeslinked/href}"
                  i18n:attributes="title string:tooltip-recentchangeslinked | default"
                  i18n:translate="string:recentchangeslinked">Related Changes</a></li>

                <li><a href="${nav_urls/whatlinkshere/href}"
                  i18n:attributes="accesskey string:accesskey-whatlinkshere | default; title string:tooltip-whatlinkshere | default" 
                  i18n:translate="string:whatlinkshere">What links here</a></li>

                <li><a href="${nav_urls/specialpages/href}"
                  i18n:attributes="title string:tooltip-specialpages | default"
                  i18n:translate="string:specialpages">Special Pages</a></li>

                <li tal:condition="loggedin"><a href="${nav_urls/upload/href"
                  i18n:attributes="accesskey string:accesskey-upload | default; title string:tooltip-upload | default" 
                  i18n:translate="string:upload">Upload a file</a></li>

              </ul>
            </div>
          </div>
        </div>
        <!-- end staticLogoNaviSearch -->

        <div id="portlet-language" class="portlet" tal:condition="language_urls">
          <h5 i18n:translate="string:otherlanguages">Language</h5>

          <div class="portletBody">
            <div class="portletContent odd">
              <ul>
                <li tal:repeat="langlink language_urls">
                <a href="mylanguagelink"
                  tal:attributes="href langlink/href"
                  tal:content="structure langlink/text">English</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div><!-- end of the left (by default at least) column -->
      <!--<esi:include src="thisurl?esiview=toolbox&loggedin=0"/> static footer, same for all pages but contains a few messaged that are worth caching --> 
      <div class="visualClear"></div>
      <div id="portal-footer">
        <ul id="footer-list">
          <li id="footer-pagestats" tal:condition="pagestats">${pagestats}</li>
          <li id="footer-about" tal:condition="about">${about}</li>
          <li id="footer-disclaimer" tal:condition="disclaimer">${disclaimer}</li>
        </ul>
      </div>
      <div id="portal-colophon"></div>
    </div>
  </body>
</html>
