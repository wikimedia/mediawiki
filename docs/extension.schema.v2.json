{
	"$schema": "http://json-schema.org/schema#",
	"description": "MediaWiki extension.json schema",
	"definitions": {
		"resourceLoaderFileInfo": {
			"oneOf": [
				{
					"type": "string",
					"description": "The name of the file"
				},
				{
					"type": "object",
					"required": [ "name" ],
					"properties": {
						"name": {
							"type": "string",
							"description": "The name of the file"
						},
						"type": {
							"type": "string",
							"description": "The type of the file. The default is to detect it from the extension",
							"enum": [ "script", "script-vue", "data", "text" ]
						},
						"main": {
							"type": "boolean",
							"description": "Used to indicate the main script in a package"
						},
						"content": {
							"type": "string",
							"description": "The content to use for the file"
						},
						"file": {
							"type": "string",
							"description": "The relative path to the file"
						},
						"callback": {
							"type": [ "string", "array" ],
							"description": "A PHP method to call for the file contents"
						},
						"callbackParam": {
							"description": "A value to be passed as the third parameter to the callback and versionCallback"
						},
						"versionCallback": {
							"type": [ "string", "array" ],
							"description": "A PHP method which will return either a FilePath or the definition summary for the file"
						},
						"config": {
							"oneOf": [
								{
									"type": "array",
									"description": "An array of config variable names to be delivered as a JSON data file",
									"items": {
										"type": "string"
									}
								},
								{
									"type": "object",
									"description": "A map of output property name to MediaWiki config variable name, to be delivered as a JSON data file",
									"additionalProperties": {
										"type": "string"
									}
								}
							]
						}
					},
					"additionalProperties": false
				}
			]
		},
		"ObjectFactorySpec": {
			"type": "object",
			"properties": {
				"factory": {
					"type": [ "string", "array" ],
					"description": "A factory function to be called to create the object"
				},
				"class": {
					"type": "string",
					"description": "The fully-qualified class name of the object. This should be omitted if a factory is specified."
				},
				"args": {
					"type": "array",
					"description": "The arguments passed to the object constructor or factory"
				},
				"services": {
					"type": "array",
					"description": "If supplied and non-empty, the named services are requested from the service container and prepended before 'args'."
				},
				"optional_services": {
					"type": "array",
					"description": "If supplied and non-empty, the named services are requested from the service container and appended after 'services' if the services are available; null is passed if the services are not available."
				}
			}
		}
	},
	"type": "object",
	"additionalProperties": false,
	"patternProperties": {
		"^@": {
			"type": [
				"string",
				"array"
			],
			"description": "Arbitrary notes, ignored by the parser."
		}
	},
	"required": [
		"manifest_version",
		"name"
	],
	"properties": {
		"manifest_version": {
			"type": "integer",
			"description": "Version of the extension.json schema the extension.json file is in."
		},
		"name": {
			"type": "string",
			"description": "The extension's canonical name."
		},
		"namemsg": {
			"type": "string",
			"description": "i18n message key of the extension's name."
		},
		"type": {
			"type": "string",
			"description": "The extension's type.",
			"examples": [
				"api",
				"antispam",
				"editor",
				"media",
				"parserhook",
				"semantic",
				"skin",
				"specialpage",
				"variable",
				"wikibase",
				"other"
			],
			"default": "other"
		},
		"author": {
			"type": [
				"string",
				"array"
			],
			"description": "Extension's authors.",
			"items": {
				"type": "string"
			}
		},
		"version": {
			"type": "string",
			"description": "The version of this release of the extension."
		},
		"url": {
			"type": "string",
			"description": "URL to the homepage for the extension.",
			"format": "uri-reference"
		},
		"description": {
			"type": "string",
			"description": "Raw description of the extension."
		},
		"descriptionmsg": {
			"type": "string",
			"description": "Message key for a i18n message describing the extension."
		},
		"license-name": {
			"type": "string",
			"description": "SPDX identifier for the license under which the extension is released."
		},
		"requires": {
			"type": "object",
			"description": "Indicates what versions of PHP, MediaWiki core, extensions or skins are required. This syntax may be extended in the future, for example to check dependencies between other services.",
			"additionalProperties": false,
			"properties": {
				"MediaWiki": {
					"type": "string",
					"description": "Version constraint string against MediaWiki core."
				},
				"platform": {
					"type": "object",
					"description": "Indicates version constraints against platform services.",
					"additionalProperties": false,
					"properties": {
						"php": {
							"type": "string",
							"description": "Version constraint string against PHP."
						},
						"ability-shell": {
							"type": "boolean",
							"default": false,
							"description": "Whether this extension requires shell access."
						}
					},
					"patternProperties": {
						"^ext-": {
							"type": "string",
							"description": "Required PHP extension.",
							"enum": [ "*" ]
						}
					}
				},
				"extensions": {
					"type": "object",
					"description": "Set of version constraint strings against specific extensions."
				},
				"skins": {
					"type": "object",
					"description": "Set of version constraint strings against specific skins."
				}
			}
		},
		"suggests": {
			"type": "object",
			"description": "Indicates what versions of PHP and MediaWiki extensions or skins are optional suggestions. This syntax may be extended in the future, for example to check dependencies between other services.",
			"additionalProperties": false,
			"properties": {
				"platform": {
					"type": "object",
					"description": "Indicates optional version constraints against platform services.",
					"additionalProperties": false,
					"properties": {
						"php": {
							"type": "string",
							"description": "Optional version constraint string against PHP."
						},
						"ability-shell": {
							"type": "boolean",
							"default": false,
							"description": "Whether this extension requires shell access."
						}
					},
					"patternProperties": {
						"^ext-": {
							"type": "string",
							"description": "Optional PHP extension.",
							"enum": [ "*" ]
						}
					}
				},
				"extensions": {
					"type": "object",
					"description": "Set of optional version constraint strings against specific extensions."
				},
				"skins": {
					"type": "object",
					"description": "Set of optional version constraint strings against specific skins."
				}
			}
		},
		"dev-requires": {
			"type": "object",
			"description": "Indicates what dependencies are required for development purposes such as running tests. This syntax may be extended in the future.",
			"additionalProperties": false,
			"properties": {
				"MediaWiki": {
					"type": "string",
					"description": "Version constraint string against MediaWiki core."
				},
				"platform": {
					"type": "object",
					"description": "Indicates version constraints against platform services.",
					"additionalProperties": false,
					"properties": {
						"php": {
							"type": "string",
							"description": "Version constraint string against PHP."
						},
						"ability-shell": {
							"type": "boolean",
							"default": false,
							"description": "Whether this extension requires shell access."
						}
					},
					"patternProperties": {
						"^ext-": {
							"type": "string",
							"description": "Required PHP extension.",
							"enum": [ "*" ]
						}
					}
				},
				"extensions": {
					"type": "object",
					"description": "Set of version constraint strings against specific extensions."
				},
				"skins": {
					"type": "object",
					"description": "Set of version constraint strings against specific skins."
				}
			}
		},
		"ResourceFileModulePaths": {
			"type": "object",
			"description": "Default paths to use for all ResourceLoader file modules",
			"additionalProperties": false,
			"properties": {
				"localBasePath": {
					"type": "string",
					"description": "Base path to prepend to all local paths, relative to current directory"
				},
				"remoteExtPath": {
					"type": "string",
					"description": "Base path to prepend to all remote paths, relative to $wgExtensionAssetsPath"
				},
				"remoteSkinPath": {
					"type": "string",
					"description": "Base path to prepend to all remote paths, relative to $wgStylePath"
				}
			}
		},
		"ResourceModules": {
			"type": "object",
			"description": "ResourceLoader modules to register",
			"patternProperties": {
				"^[a-zA-Z0-9-\\.]+$": {
					"type": "object",
					"anyOf": [
						{
							"description": "A FileModule definition",
							"additionalProperties": false,
							"properties": {
								"localBasePath": {
									"type": "string",
									"description": "Base path to prepend to all local paths. Defaults to $IP"
								},
								"remoteBasePath": {
									"type": "string",
									"description": "Base path to prepend to all remote paths. Defaults to $wgScriptPath"
								},
								"remoteExtPath": {
									"type": "string",
									"description": "Equivalent of remoteBasePath, but relative to $wgExtensionAssetsPath"
								},
								"remoteSkinPath": {
									"type": "string",
									"description": "Equivalent of remoteBasePath, but relative to $wgStylePath"
								},
								"skipFunction": {
									"type": "string",
									"description": "Path to a file containing a JavaScript \"skip function\", if desired."
								},
								"scripts": {
									"type": [ "string", "array" ],
									"description": "Scripts to always include. Array of file paths or package file objects.",
									"items": { "$ref": "#/definitions/resourceLoaderFileInfo" }
								},
								"languageScripts": {
									"type": "object",
									"description": "Scripts to include in specific language contexts (mapping of language code to file path(s))",
									"patternProperties": {
										"^[a-zA-Z0-9-]{2,}$": {
											"type": [
												"string",
												"array"
											],
											"items": { "$ref": "#/definitions/resourceLoaderFileInfo" }
										}
									}
								},
								"skinScripts": {
									"type": "object",
									"description": "Scripts to include in specific skin contexts (mapping of skin name to script(s)",
									"patternProperties": {
										".+": {
											"type": [
												"string",
												"array"
											],
											"items": { "$ref": "#/definitions/resourceLoaderFileInfo" }
										}
									}
								},
								"debugScripts": {
									"type": [ "string", "array" ],
									"description": "Scripts to include in debug contexts",
									"items": {
										"$ref": "#/definitions/resourceLoaderFileInfo"
									}
								},
								"dependencies": {
									"type": [ "string", "array" ],
									"description": "Modules which must be loaded before this module",
									"items": {
										"type": "string"
									}
								},
								"styles": {
									"type": [ "string", "array", "object" ],
									"description": "Styles to always load",
									"items": {
										"type": "string"
									}
								},
								"skinStyles": {
									"type": "object",
									"description": "Styles to include in specific skin contexts (mapping of skin name to style(s))",
									"patternProperties": {
										".+": {
											"type": [
												"string",
												"array"
											],
											"items": {
												"type": "string"
											}
										}
									}
								},
								"messages": {
									"type": [ "string", "array" ],
									"description": "Messages to always load",
									"items": {
										"type": "string"
									}
								},
								"group": {
									"type": "string",
									"description": "Group with which this module should be loaded"
								},
								"deprecated": {
									"type": [ "object", "string", "boolean" ],
									"description": "Whether the module is deprecated and usage is discouraged. Either a boolean, or a string or an object with key message can be used to customise deprecation message."
								},
								"position": {
									"type": "string",
									"description": "Position on the page to load this module at (unused since MediaWiki 1.29)",
									"enum": [
										"bottom",
										"top"
									]
								},
								"templates": {
									"type": [ "object", "array" ],
									"description": "Templates to be loaded for client-side usage",
									"items": {
										"type": "string"
									}
								},
								"targets": {
									"type": [ "string", "array" ],
									"description": "ResourceLoader target the module can run on (unused since MediaWiki 1.42)",
									"items": {
										"type": "string"
									}
								},
								"noflip": {
									"type": "boolean",
									"description": "Whether to skip CSSJanus LTR-to-RTL flipping for this module. Recommended for styles imported from libraries that already properly handle their RTL styles. Default is false, meaning CSSJanus will be applied on RTL-mode output."
								},
								"packageFiles": {
									"type": [ "string", "array" ],
									"description": "Package files that can be require()d",
									"items": {
										"$ref": "#/definitions/resourceLoaderFileInfo"
									}
								},
								"es6": {
									"type": "boolean",
									"description": "Deprecated flag as to whether this module requires an ES6-capable browser; ignored since MediaWiki 1.41. Default is true."
								},
								"skipStructureTest": {
									"type": "boolean",
									"description": "Whether to skip ResourcesTest::testRespond()"
								}
							}
						},
						{
							"description": "A WikiModule definition",
							"additionalProperties": false,
							"properties": {
								"class": {
									"type": "string"
								},
								"group": {
									"type": "string",
									"description": "Group with which this module should be loaded"
								},
								"position": {
									"type": "string",
									"description": "Position on the page to load this module at (unused since MediaWiki 1.29)",
									"enum": [
										"bottom",
										"top"
									]
								},
								"targets": {
									"type": [ "string", "array" ],
									"description": "ResourceLoader target the module can run on (unused since MediaWiki 1.42)",
									"items": {
										"type": "string"
									}
								},
								"scripts": {
									"type": "array",
									"description": "A list of on-wiki pages containing JavaScript that should be loaded",
									"items": {
										"type": "string"
									}
								},
								"styles": {
									"type": "array",
									"description": "A list of on-wiki pages containing CSS that should be loaded",
									"items": {
										"type": "string"
									}
								}
							}
						},
						{
							"description": "An ImageModule definition",
							"additionalProperties": false,
							"properties": {
								"class": {
									"type": "string"
								},
								"localBasePath": {
									"type": "string",
									"description": "Base path to prepend to all local paths. Defaults to $IP"
								},
								"defaultColor": {
									"type": "string"
								},
								"data": {
									"type": "string"
								},
								"prefix": {
									"type": "string"
								},
								"selector": {
									"type": "string"
								},
								"selectorWithoutVariant": {
									"type": "string"
								},
								"selectorWithVariant": {
									"type": "string"
								},
								"useDataURI": {
									"type": "boolean"
								},
								"variants": {
									"type": "object"
								},
								"images": {
									"type": "object"
								},
								"position": {
									"type": "string",
									"description": "Position on the page to load this module at (unused since MediaWiki 1.29)",
									"enum": [
										"top",
										"bottom"
									]
								}
							}
						},
						{
							"description": "An arbitrary ResourceLoader Module definition by class",
							"properties": {
								"class": {
									"type": "string",
									"pattern": "^(?!ResourceLoader(File|Image|Wiki)Module).*$"
								}
							},
							"required": [ "class" ]
						},
						{
							"description": "An arbitrary ResourceLoader Module definition with instantiator",
							"properties": {
								"factory": {
									"type": "string",
									"description": "A static instantiator function for creating the ResourceLoader Module object."
								}
							},
							"required": [ "factory" ]
						}
					]
				}
			}
		},
		"ResourceModuleSkinStyles": {
			"type": "object",
			"description": "ResourceLoader modules for custom skin styles"
		},
		"ResourceLoaderSources": {
			"type": "object",
			"description": "ResourceLoader sources to register"
		},
		"SkinLessImportPaths": {
			"type": "object",
			"description": "Path to the skin-specific LESS import directory, keyed by skin name. Can be used to define skin-specific LESS variables."
		},
		"QUnitTestModule": {
			"type": "object",
			"description": "A ResourceLoader module definition registered only when wgEnableJavaScriptTest is true.",
			"anyOf": [
				{
					"description": "A FileModule definition",
					"additionalProperties": false,
					"properties": {
						"localBasePath": {
							"type": "string",
							"description": "Base path to prepend to all local paths. Defaults to $IP"
						},
						"remoteBasePath": {
							"type": "string",
							"description": "Base path to prepend to all remote paths. Defaults to $wgScriptPath"
						},
						"remoteExtPath": {
							"type": "string",
							"description": "Equivalent of remoteBasePath, but relative to $wgExtensionAssetsPath"
						},
						"remoteSkinPath": {
							"type": "string",
							"description": "Equivalent of remoteBasePath, but relative to $wgStylePath"
						},
						"skipFunction": {
							"type": "string",
							"description": "Path to a file containing a JavaScript \"skip function\", if desired."
						},
						"scripts": {
							"type": [ "string", "array" ],
							"description": "Scripts to always include (array of file paths)",
							"items": {
								"type": "string"
							}
						},
						"languageScripts": {
							"type": "object",
							"description": "Scripts to include in specific language contexts (mapping of language code to file path(s))",
							"patternProperties": {
								"^[a-zA-Z0-9-]{2,}$": {
									"type": [
										"string",
										"array"
									],
									"items": {
										"type": "string"
									}
								}
							}
						},
						"skinScripts": {
							"type": "object",
							"description": "Scripts to include in specific skin contexts (mapping of skin name to script(s)",
							"patternProperties": {
								".+": {
									"type": [
										"string",
										"array"
									],
									"items": {
										"type": "string"
									}
								}
							}
						},
						"debugScripts": {
							"type": [ "string", "array" ],
							"description": "Scripts to include in debug contexts",
							"items": {
								"type": "string"
							}
						},
						"dependencies": {
							"type": [ "string", "array" ],
							"description": "Modules which must be loaded before this module",
							"items": {
								"type": "string"
							}
						},
						"styles": {
							"type": [ "string", "array", "object" ],
							"description": "Styles to always load",
							"items": {
								"type": "string"
							}
						},
						"skinStyles": {
							"type": "object",
							"description": "Styles to include in specific skin contexts (mapping of skin name to style(s))",
							"patternProperties": {
								".+": {
									"type": [
										"string",
										"array"
									],
									"items": {
										"type": "string"
									}
								}
							}
						},
						"messages": {
							"type": [ "string", "array" ],
							"description": "Messages to always load",
							"items": {
								"type": "string"
							}
						},
						"group": {
							"type": "string",
							"description": "Group with which this module should be loaded"
						},
						"deprecated": {
							"type": [ "object", "string", "boolean" ],
							"description": "Whether the module is deprecated and usage is discouraged. Either a boolean, or a string or an object with key message can be used to customise deprecation message."
						},
						"position": {
							"type": "string",
							"description": "Position on the page to load this module at (unused since MediaWiki 1.29)",
							"enum": [
								"bottom",
								"top"
							]
						},
						"templates": {
							"type": [ "object", "array" ],
							"description": "Templates to be loaded for client-side usage",
							"items": {
								"type": "string"
							}
						},
						"targets": {
							"type": [ "string", "array" ],
							"description": "ResourceLoader target the module can run on (unused since MediaWiki 1.42)",
							"items": {
								"type": "string"
							}
						},
						"noflip": {
							"type": "boolean",
							"description": "Whether to skip CSSJanus LTR-to-RTL flipping for this module. Recommended for styles imported from libraries that already properly handle their RTL styles. Default is false, meaning CSSJanus will be applied on RTL-mode output."
						},
						"packageFiles": {
							"type": [ "string", "array" ],
							"description": "Package files that can be require()d",
							"items": {
								"type": [ "string", "object" ]
							}
						},
						"es6": {
							"type": "boolean",
							"description": "Whether this module requires an ES6-capable browser. If set to true, loading this module in a non-ES6 browser will cause an error. Using ES6 syntax in modules is not yet supported, but will be in the near future. Default is false."
						}
					}
				},
				{
					"description": "An arbitrary ResourceLoader Module definition by class",
					"properties": {
						"class": {
							"type": "string",
							"pattern": "^(?!ResourceLoader(File|Image|Wiki)Module).*$"
						}
					},
					"required": [ "class" ]
				},
				{
					"description": "An arbitrary ResourceLoader Module definition with instantiator",
					"properties": {
						"factory": {
							"type": "string",
							"description": "A static instantiator function for creating the ResourceLoader Module object."
						}
					},
					"required": [ "factory" ]
				}
			]
		},
		"MessagePosterModule": {
			"type": "object",
			"description": "Additional JavaScript files and modules that will register content models with mw.messagePoster.factory.",
			"additionalProperties": false,
			"properties": {
				"localBasePath": {
					"type": "string",
					"description": "Prefix for local paths to files, relative to extension directory"
				},
				"scripts": {
					"type": "array",
					"description": "Scripts to include as array of file paths",
					"items": {
						"type": "string"
					}
				},
				"dependencies": {
					"type": "array",
					"description": "Modules which must load before these files",
					"items": {
						"type": "string"
					}
				}
			}
		},
		"ConfigRegistry": {
			"type": "object",
			"description": "Registry of factory functions to create Config objects"
		},
		"SessionProviders": {
			"type": "object",
			"description": "Session providers"
		},
		"AuthManagerAutoConfig": {
			"type": "object",
			"description": "AuthManager auto-configuration",
			"additionalProperties": false,
			"properties": {
				"preauth": {
					"type": "object",
					"description": "Pre-authentication providers"
				},
				"primaryauth": {
					"type": "object",
					"description": "Primary authentication providers"
				},
				"secondaryauth": {
					"type": "object",
					"description": "Secondary authentication providers"
				}
			}
		},
		"CentralIdLookupProviders": {
			"type": "object",
			"description": "Central ID lookup providers"
		},
		"ChangeCredentialsBlacklist": {
			"type": "object",
			"description": "AuthenticationRequest classes which can only be used internally for credentials change"
		},
		"RemoveCredentialsBlacklist": {
			"type": "object",
			"description": "AuthenticationRequest classes which can only be used internally for credentials removal"
		},
		"namespaces": {
			"type": "array",
			"description": "Method to add extra namespaces",
			"items": {
				"type": "object",
				"properties": {
					"id": {
						"type": "integer"
					},
					"constant": {
						"type": "string"
					},
					"name": {
						"type": "string"
					},
					"gender": {
						"type": "object",
						"properties": {
							"male": {
								"type": "string"
							},
							"female": {
								"type": "string"
							}
						}
					},
					"subpages": {
						"type": "boolean",
						"default": false
					},
					"content": {
						"type": "boolean",
						"default": false
					},
					"defaultcontentmodel": {
						"type": "string"
					},
					"protection": {
						"type": [ "string", "array" ],
						"description": "Userright(s) required to edit in this namespace"
					},
					"capitallinkoverride": {
						"type": "boolean",
						"description": "Set $wgCapitalLinks on a per-namespace basis"
					},
					"conditional": {
						"type": "boolean",
						"description": "Whether the namespace is conditional upon configuration and should not be registered (requires separate registration via a hook)",
						"default": false
					},
					"movable": {
						"type": "boolean",
						"description": "Whether it is possible to move pages in this namespace",
						"default": true
					},
					"includable": {
						"type": "boolean",
						"description": "Whether it is possible to include/transclude pages in this namespace",
						"default": true
					}
				},
				"required": [ "id", "constant", "name" ]
			}
		},
		"TrackingCategories": {
			"type": "array",
			"description": "Tracking category message keys",
			"items": {
				"type": "string"
			}
		},
		"DefaultUserOptions": {
			"type": "object",
			"description": "Default values of user options"
		},
		"ConditionalUserOptions": {
			"type": "object",
			"description": "Conditional defaults of user options"
		},
		"HiddenPrefs": {
			"type": "array",
			"description": "Preferences users cannot set",
			"items": {
				"type": "string"
			}
		},
		"GroupPermissions": {
			"type": "object",
			"description": "Default permissions to give to user groups",
			"patternProperties": {
				"^[a-z]+$": {
					"type": "object",
					"patternProperties": {
						"^[a-z]+$": {
							"type": "boolean"
						}
					}
				}
			}
		},
		"PrivilegedGroups": {
			"type": "array",
			"description": "User groups that should be considered privileged",
			"items": {
				"type": "string"
			}
		},
		"RevokePermissions": {
			"type": "object",
			"description": "Default permissions to revoke from user groups",
			"patternProperties": {
				"^[a-z]+$": {
					"type": "object",
					"patternProperties": {
						"^[a-z]+$": {
							"type": "boolean"
						}
					}
				}
			}
		},
		"GrantPermissions": {
			"type": "object",
			"description": "Map of permissions granted to authorized consumers to their bundles, called 'grants'",
			"patternProperties": {
				"^[a-z]+$": {
					"type": "object",
					"patternProperties": {
						"^[a-z]+$": {
							"type": "boolean"
						}
					}
				}
			}
		},
		"GrantPermissionGroups": {
			"type": "object",
			"description": "Map of grants to their UI grouping",
			"patternProperties": {
				"^[a-z]+$": {
					"type": "string"
				}
			}
		},
		"GrantRiskGroups": {
			"type": "object",
			"description": "Map of grants to their risk category",
			"patternProperties": {
				"^[a-z]+$": {
					"type": "string"
				}
			}
		},
		"ImplicitGroups": {
			"type": "array",
			"description": "Implicit groups"
		},
		"GroupsAddToSelf": {
			"type": "object",
			"description": "Groups a user can add to themselves"
		},
		"GroupsRemoveFromSelf": {
			"type": "object",
			"description": "Groups a user can remove from themselves"
		},
		"AddGroups": {
			"type": "object",
			"description": "Groups a user can add to users"
		},
		"RemoveGroups": {
			"type": "object",
			"description": "Groups a user can remove from users"
		},
		"AvailableRights": {
			"type": "array",
			"description": "User rights added by the extension",
			"items": {
				"type": "string"
			}
		},
		"ContentHandlers": {
			"type": "object",
			"description": "Mapping of model ID to class name or an ObjectFactory specification.",
			"patternProperties": {
				"^[A-Za-z]+$": {
					"oneOf": [
						{
							"type": "string",
							"description": "Class name of the ContentHandler."
						},
						{
							"type": "object",
							"description": "ObjectFactory specification of the ContentHandler."
						}
					]
				}
			}
		},
		"RateLimits": {
			"type": "object",
			"description": "Rate limits"
		},
		"RecentChangesFlags": {
			"type": "object",
			"description": "Flags (letter symbols) shown on RecentChanges pages"
		},
		"MediaHandlers": {
			"type": "object",
			"description": "Plugins for media file type handling. Each entry in the array maps a MIME type to a PHP class name."
		},
		"ExtensionFunctions": {
			"type": [
				"array",
				"string"
			],
			"description": "Function to call after setup has finished",
			"items": {
				"type": "string"
			}
		},
		"ExtensionMessagesFiles": {
			"type": "object",
			"description": "File paths containing PHP internationalization data"
		},
		"RestModuleFiles": {
			"type": "array",
			"description": "Paths of REST API module files"
		},
		"MessagesDirs": {
			"type": "object",
			"description": "Directory paths containing JSON internationalization data"
		},
		"TranslationAliasesDirs": {
			"type": "object",
			"description": "Message directories containing JSON files for localisation of special page aliases"
		},
		"ExtensionEntryPointListFiles": {
			"type": "object"
		},
		"SpecialPages": {
			"type": "object",
			"description": "SpecialPages implemented in this extension (mapping of page name to class name or to ObjectFactory spec, or factory callback)"
		},
		"OutputPipelineStages": {
			"type": "object",
			"description": "@unstable EXPERIMENTAL: OutputPipelineStages implemented in this extension."
		},
		"AutoloadNamespaces": {
			"type": "object",
			"description": "Mapping of PSR-4 compliant namespace to directory for autoloading",
			"patternProperties": {
				"^[A-Za-z0-9\\\\]+\\\\$": {
					"type": "string"
				}
			},
			"additionalProperties": false
		},
		"AutoloadClasses": {
			"type": "object"
		},
		"TestAutoloadNamespaces": {
			"type": "object",
			"description": "Mapping of PSR-4 compliant namespace to directory for autoloading to be used in tests",
			"patternProperties": {
				"^[A-Za-z0-9\\\\]+\\\\$": {
					"type": "string"
				}
			},
			"additionalProperties": false
		},
		"TestAutoloadClasses": {
			"type": "object"
		},
		"Hooks": {
			"type": "object",
			"description": "Hooks this extension uses (mapping of hook name to callback)",
			"additionalProperties": {
				"oneOf": [
					{
						"type": "string",
						"description": "A global function name, static function name, or the name of a property in HookHandlers"
					},
					{
						"type": "object",
						"description": "A handler specification",
						"properties": {
							"handler": {
								"type": "string",
								"description": "The name of a property in HookHandlers"
							},
							"deprecated": {
								"type": "boolean",
								"description": "The deprecation acknowledgement flag for the handler. If this is true, calls will be filtered if the relevant hook is deprecated."
							}
						},
						"required": [
							"handler"
						]
					},
					{
						"type": "array",
						"description": "An ordered array of handlers",
						"items": {
							"oneOf": [
								{
									"type": "string",
									"description": "A global function name, static function name, or the name of a property in HookHandlers"
								},
								{
									"type": "object",
									"description": "A handler specification",
									"properties": {
										"handler": {
											"type": "string",
											"description": "The name of a property in HookHandlers"
										},
										"deprecated": {
											"type": "boolean",
											"description": "The deprecation acknowledgement flag for the handler. If this is true, calls will be filtered if the relevant hook is deprecated."
										}
									},
									"required": [
										"handler"
									]
								}
							]
						}
					}
				]
			}
		},
		"HookHandlers": {
			"type": "object",
			"description": "ObjectFactory specifications for new-style hook handlers",
			"additionalProperties": { "$ref": "#/definitions/ObjectFactorySpec" }
		},
		"DeprecatedHooks": {
			"type": "object",
			"description": "Hooks which are defined and deprecated by the extension",
			"additionalProperties": {
				"type": "object",
				"properties": {
					"deprecatedVersion": {
						"type": "string",
						"description": "The version in which the hook was deprecated"
					},
					"component": {
						"type": "string",
						"description": "The component to which the deprecated version relates. If omitted, the extension name will be used."
					},
					"silent": {
						"type": "boolean",
						"description": "If true, no warning is raised when the hook is called or when a handler is declared. However, call filtering is still activated."
					}
				},
				"required": [
					"deprecatedVersion"
				]
			}
		},
		"DomainEventSubscribers": {
			"type": "array",
			"description": "Deprecated alias for DomainEventIngresses (T389033)",
			"items": {
				"$ref": "#/properties/DomainEventIngresses/items"
			}
		},
		"DomainEventIngresses": {
			"type": "array",
			"description": "ObjectFactory specifications for domain event ingress objects. Since MW 1.44. Event ingress objects must extend DomainEventIngress.",
			"items": {
				"allOf": [
					{
						"type": "object",
						"required": [ "events" ],
						"properties": {
							"events": {
								"type": "array",
								"items": {
									"type": "string"
								},
								"description": "A list of events to subscribe to"
							},
							"factory": { "description": "See the ObjectFactorySpec definition" },
							"class": { "description": "See the ObjectFactorySpec definition" },
							"args": { "description": "See the ObjectFactorySpec definition" },
							"services": { "description": "See the ObjectFactorySpec definition" },
							"optional_services": { "description": "See the ObjectFactorySpec definition" }
						}
					},
					{ "$ref": "#/definitions/ObjectFactorySpec" }
				]
			}
		},
		"JobClasses": {
			"type": "object",
			"description": "Job types this extension implements (mapping of job type to class name or factory function)"
		},
		"LogTypes": {
			"type": "array",
			"description": "List of new log types this extension uses"
		},
		"LogRestrictions": {
			"type": "object"
		},
		"FilterLogTypes": {
			"type": "object"
		},
		"ActionFilteredLogs": {
			"type": "object",
			"description": "List of log types which can be filtered by log actions",
			"patternProperties": {
				"^[a-z-]+$": {
					"type": "object",
					"patternProperties": {
						"^[a-z-]+$": {
							"type": "array",
							"items": {
								"type": "string"
							}
						}
					}
				}
			}
		},
		"LogNames": {
			"type": "object"
		},
		"LogHeaders": {
			"type": "object"
		},
		"LogActions": {
			"type": "object"
		},
		"LogActionsHandlers": {
			"type": "object"
		},
		"Actions": {
			"type": "object"
		},
		"APIModules": {
			"type": "object"
		},
		"APIFormatModules": {
			"type": "object"
		},
		"APIMetaModules": {
			"type": "object"
		},
		"APIPropModules": {
			"type": "object"
		},
		"APIListModules": {
			"type": "object"
		},
		"ValidSkinNames": {
			"type": "object",
			"description": "Mapping of skin canonical names to PHP class name using the Object Factory specification. Or historically, the human readable name of the skin."
		},
		"FeedClasses": {
			"type": "object",
			"description": "Available feeds objects"
		},
		"SkinOOUIThemes": {
			"type": "object",
			"description": "Map of skin names to OOUI themes to use. Same format as MediaWiki\\ResourceLoader\\OOUIModule::$builtinSkinThemeMap."
		},
		"OOUIThemePaths": {
			"type": "object",
			"description": "Map of custom OOUI theme names to paths to load them from. Same format as MediaWiki\\ResourceLoader\\OOUIModule::$builtinThemePaths.",
			"patternProperties": {
				"^[A-Za-z]+$": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"localBasePath": {
							"type": "string",
							"description": "Base path to prepend to all local paths, relative to current directory"
						},
						"remoteExtPath": {
							"type": "string",
							"description": "Base path to prepend to all remote paths, relative to $wgExtensionAssetsPath"
						},
						"remoteSkinPath": {
							"type": "string",
							"description": "Base path to prepend to all remote paths, relative to $wgStylePath"
						},
						"scripts": {
							"type": "string",
							"description": "Path to script file."
						},
						"styles": {
							"type": "string",
							"description": "Path to style files. '{module}' will be replaced with the module's name."
						},
						"images": {
							"type": "string",
							"description": "Path to image definition files. '{module}' will be replaced with the module's name. If the files don't exist, default theme's images will be used instead."
						}
					}
				}
			}
		},
		"SkinCodexThemes": {
			"type": "object",
			"description": "Name of the Codex theme to use for each skin, keyed by skin name. Skins not specified here default to the wikimedia-ui theme."
		},
		"PasswordPolicy": {
			"type": "object",
			"description": "Password policies"
		},
		"FileExtensions": {
			"type": "array",
			"description": "Preferred file extensions for uploading",
			"items": {
				"type": "string"
			}
		},
		"RawHtmlMessages": {
			"type": "array",
			"description": "Messages which are rendered as raw HTML",
			"items": {
				"type": "string"
			}
		},
		"LateJSConfigVarNames": {
			"type": "array",
			"description": "Names of JS config vars (as used in MakeGlobalVariablesScript hook or in ParserOutput::setJsConfigVar) that may be set from the end of the HTML body instead of the HTML head, to improve page load time. In JavaScript, these variables should be accessed via mw.hook('wikipage.content').",
			"items": {
				"type": "string"
			}
		},
		"DatabaseVirtualDomains": {
			"type": "array",
			"description": "Names of virtual domains that are used to get a db connection.",
			"items": {
				"type": "string"
			}
		},
		"ReauthenticateTime": {
			"type": "object",
			"patternProperties": {
				".*": {
					"type": "integer"
				}
			}
		},
		"InstallerTasks": {
			"type": "array",
			"description": "Array of specification objects describing tasks to run during installation",
			"items": {
				"type": "object",
				"properties": {
					"class": {
						"type": "string",
						"description": "The class name to create"
					},
					"factory": {
						"type": [ "array", "string" ],
						"description": "A function to call to create the object"
					},
					"args": {
						"type": "array",
						"description": "Arguments to pass to the constructor"
					},
					"callback": {
						"type": [ "array", "string" ],
						"description": "Function to call during installation"
					},
					"name": {
						"type": "string",
						"description": "The name of the task (with callback only)"
					},
					"description": {
						"type": "string",
						"description": "A description of the task (with callback only)"
					},
					"after": {
						"type": [ "array", "string" ],
						"description": "The name of the dependency or provided data, or a list of such names (with callback only)"
					},
					"postInstall": {
						"type": "boolean",
						"description": "Whether the task should run after all tasks that actually perform installation (with callback only)"
					},
					"profile": {
						"type": "string",
						"description": "Which installer to run the task under. If unspecified, it runs in both installers.",
						"enum": [
							"installer",
							"installPreConfigured"
						]
					}
				}
			}
		},
		"callback": {
			"type": [
				"array",
				"string"
			],
			"description": "A function to be called right after MediaWiki processes this file"
		},
		"config_prefix": {
			"type": "string",
			"default": "wg",
			"description": "Prefix to put in front of configuration settings when exporting them to $GLOBALS"
		},
		"config": {
			"type": "object",
			"description": "Configuration options for this extension",
			"patternProperties": {
				"^[a-zA-Z_\u007f-\u00ff][a-zA-Z0-9_\u007f-\u00ff]*$": {
					"type": "object",
					"additionalProperties": false,
					"required": [ "value" ],
					"properties": {
						"value": {
						},
						"merge_strategy": {
							"type": "string",
							"enum": [
								"array_replace_recursive",
								"array_plus_2d",
								"array_plus",
								"array_merge",
								"provide_default"
							],
							"default": "array_merge"
						},
						"path": {
							"description": "Whether this should be interpreted as a filesystem path, relative to extension directory root",
							"type": "boolean",
							"default": false
						},
						"description": {
							"type": [ "string", "array" ],
							"description": "A description of the config setting, mostly for documentation/developers"
						},
						"descriptionmsg": {
							"type": "string",
							"description": "The message key which should be used as a description for this configuration option in a user interface. If empty, description will be used."
						},
						"public": {
							"type": "boolean",
							"default": false,
							"description": "Whether this configuration option and its value is allowed to be revealed in public or not."
						}
					}
				}
			}
		},
		"SearchMappings": {
			"type": "object",
			"description": "Mapping of search canonical names (used in $wgSearchType and $wgSearchTypeAlternatives) using the Object Factory specification"
		},
		"ServiceWiringFiles": {
			"type": "array",
			"description": "List of service wiring files to be loaded by the default instance of MediaWikiServices"
		},
		"RestRoutes": {
			"type": "array",
			"description": "List of route specifications to be added to the REST API",
			"items": {
				"allOf": [
					{
						"type": "object",
						"properties": {
							"method": {
								"oneOf": [
									{
										"type": "string",
										"description": "The HTTP method name"
									},
									{
										"type": "array",
										"items": {
											"type": "string",
											"description": "An acceptable HTTP method name"
										}
									}
								]
							},
							"path": {
								"type": "string",
								"description": "The path template. This should start with an initial slash, designating the root of the REST API. Path parameters are enclosed in braces, for example /endpoint/{param}."
							},
							"factory": { "description": "See the ObjectFactorySpec definition" },
							"class": { "description": "See the ObjectFactorySpec definition" },
							"args": { "description": "See the ObjectFactorySpec definition" },
							"services": { "description": "See the ObjectFactorySpec definition" },
							"optional_services": { "description": "See the ObjectFactorySpec definition" }
						}
					},
					{ "$ref": "#/definitions/ObjectFactorySpec" }
				]
			}
		},
		"ParsoidModules": {
			"type": "array",
			"description": "List of extension modules to be registered with the Parsoid wikitext parser",
			"items": {
				"oneOf": [
					{
						"type": "string",
						"description": "The fully-qualified name of a class implementing Wikimedia\\Parsoid\\Ext\\ExtensionModule"
					},
					{
						"type": "object",
						"description": "Object factory specification for a class implementing Wikimedia\\Parsoid\\Ext\\ExtensionModule",
						"properties": {
							"factory": {
								"type": [ "string", "array" ],
								"description": "A factory function to be called to create an ExtensionModule. This should be omitted if a class is specified."
							}
						},
						"required": [ "factory" ]
					},
					{
						"type": "object",
						"description": "Object factory specification for a class implementing Wikimedia\\Parsoid\\Ext\\ExtensionModule",
						"properties": {
							"class": {
								"type": "string",
								"description": "The fully-qualified class name of a class implementing Wikimedia\\Parsoid\\Ext\\ExtensionModule. This should be omitted if a factory is specified."
							}
						},
						"required": [ "class" ]
					},
					{
						"type": "object",
						"description": "A Parsoid extension module configuration array. Only mandatory and prohibited fields are specified here; the Parsoid repository contains a complete schema, documented at [[mw:Parsoid/Internals/Module_Configuration_Schema]].",
						"properties": {
							"class": {
								"type": "null",
								"description": "This property must not be present in a configuration array"
							},
							"factory": {
								"type": "null",
								"description": "This property must not be present in a configuration array"
							},
							"name": {
								"type": "string",
								"description": "The Parsoid extension module's canonical name; should be unique."
							}
						}
					}
				]
			}
		},
		"TempUserSerialProviders": {
			"type": "object",
			"description": "Map of temporary user serial provider type name to ObjectFactory spec",
			"patternProperties": {
				".*": { "$ref": "#/definitions/ObjectFactorySpec" }
			}
		},
		"TempUserSerialMappings": {
			"type": "object",
			"description": "Map of temporary user serial map type name to ObjectFactory spec",
			"patternProperties": {
				".*": { "$ref": "#/definitions/ObjectFactorySpec" }
			}
		},
		"UserRegistrationProviders": {
			"type": "object",
			"description": "Map of user registration timestamp providers (specs for ObjectFactory, indexed by provider name)",
			"patternProperties": {
				".*": { "$ref": "#/definitions/ObjectFactorySpec" }
			}
		},
		"UserOptionsStoreProviders": {
			"type": "object",
			"description": "Map of user options store providers (specs for ObjectFactory, indexed by provider name). The class should implement the UserOptionsStore interface.",
			"patternProperties": {
				".*": { "$ref": "#/definitions/ObjectFactorySpec" }
			}
		},
		"NotificationMiddleware": {
			"type": "array",
			"description": "List of notification middleware (specs for ObjectFactory). The class should implement the NotificationMiddlewareInterface interface.",
			"items": {
				"allOf": [
					{
						"type": "object",
						"properties": {
							"factory": { "description": "See the ObjectFactorySpec definition" },
							"class": { "description": "See the ObjectFactorySpec definition" },
							"args": { "description": "See the ObjectFactorySpec definition" },
							"services": { "description": "See the ObjectFactorySpec definition" },
							"optional_services": { "description": "See the ObjectFactorySpec definition" }
						}
					},
					{ "$ref": "#/definitions/ObjectFactorySpec" }
				]
			}
		},
		"NotificationHandlers": {
			"type": "array",
			"description": "List of notification handlers (specs for ObjectFactory). The class should implement the NotificationHandler interface.",
			"items": {
				"allOf": [
					{
						"type": "object",
						"properties": {
							"types": {
								"type": "array",
								"description": "Notification types (or wildcards) supported by this handler. Currently, the only supported wildcard is setting the whole type to '*' (no partial matches allowed).",
								"items": {
									"type": "string"
								}
							},
							"factory": { "description": "See the ObjectFactorySpec definition" },
							"class": { "description": "See the ObjectFactorySpec definition" },
							"args": { "description": "See the ObjectFactorySpec definition" },
							"services": { "description": "See the ObjectFactorySpec definition" },
							"optional_services": { "description": "See the ObjectFactorySpec definition" }
						}
					},
					{ "$ref": "#/definitions/ObjectFactorySpec" }
				]
			}
		},
		"ForeignResourcesDir": {
			"type": "string",
			"description": "The directory holding the foreign-resources.yaml file, relative to the extension root. See https://www.mediawiki.org/wiki/Foreign_resources"
		},
		"attributes": {
			"description": "Registration information for other extensions",
			"type": "object",
			"patternProperties": {
				".*": {
					"type": "object",
					"patternProperties": {
						".*": {
							"type": [ "array", "object" ]
						}
					}
				}
			}
		},
		"load_composer_autoloader": {
			"type": "boolean",
			"description": "Load the composer autoloader for this extension, if one is present"
		}
	}
}
