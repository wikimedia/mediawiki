/*!
 * MediaWiki Widgets â€“ DateInputWidget styles.
 *
 * @copyright 2011-2015 MediaWiki Widgets Team and others; see AUTHORS.txt
 * @license The MIT License (MIT); see LICENSE.txt
 */

.oo-ui-box-sizing( @type: border-box ) {
	-webkit-box-sizing: @type;
	-moz-box-sizing:    @type;
	box-sizing:         @type;
}

.oo-ui-unselectable() {
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}

.oo-ui-inline-spacing( @spacing, @cancelled-spacing: 0 ) {
	margin-right: @spacing;
	&:last-child {
		margin-right: @cancelled-spacing;
	}
}

.mw-widget-DateInputWidget {
	display: inline-block;
	position: relative;

	&-handle {
		width: 100%;
		display: inline-block;
		cursor: pointer;

		.oo-ui-unselectable();
		.oo-ui-box-sizing(border-box);
	}

	&.oo-ui-widget-disabled .oo-ui-dropdownWidget-handle {
		cursor: default;
	}

	> .mw-widget-CalendarWidget {
		position: absolute;
		z-index: 1;
	}

	// Theme-specific styles
	width: 21em;
	margin: 0.25em 0;

	.oo-ui-inline-spacing(0.5em);

	&-handle {
		padding: 0.5em 1em;
		border: 1px solid #ccc;
		border-radius: 0.1em;
		line-height: 1.275em;

		&:hover {
			border-color: #347bff;
		}
	}

	> .oo-ui-textInputWidget input {
		padding-left: 1em;
	}

	> .mw-widget-CalendarWidget {
		background-color: white;
		// TODO This makes the items leak out of the calendar :/
		border: 0.2em solid transparent;
		box-sizing: border-box;
	}

	&-active > .mw-widget-CalendarWidget {
		margin-top: -2px;
		// Immitate focussed input styles
		border-color: #347bff;
		border-top: 1px solid #ccc;

		&:focus {
			outline: none;
			margin-top: -3px;
			border-top: 2px solid #347bff;
		}
	}

	&:hover .oo-ui-dropdownWidget-handle {
		border-color: #aaa;
	}

	&.oo-ui-widget-disabled {
		.oo-ui-dropdownWidget-handle {
			color: #ccc;
			text-shadow: 0 1px 1px #fff;
			border-color: #ddd;
			background-color: #f3f3f3;
		}
	}
}
