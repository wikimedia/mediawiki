/*!
 * MediaWiki Widgets â€“ CalendarWidget styles.
 *
 * @copyright 2011-2015 MediaWiki Widgets Team and others; see AUTHORS.txt
 * @license The MIT License (MIT); see LICENSE.txt
 */

@calendar-width: 21em;
@calendar-height: 14em;

.mw-widget-calendarWidget {
	width: @calendar-width;
}

.mw-widget-calendarWidget-header {
	position: relative;
	line-height: 2.5em;
}

.mw-widget-calendarWidget-header .oo-ui-buttonWidget {
	margin-right: 0;
}

.mw-widget-calendarWidget-header .mw-widget-calendarWidget-labelButton {
	margin: 0 auto;
	display: block;
	width: @calendar-width - 2*3em;

	.oo-ui-buttonElement-button {
		width: @calendar-width - 2*3em;
		text-align: center;
	}
}

.mw-widget-calendarWidget-upButton {
	position: absolute;
	right: 3em;
}

.mw-widget-calendarWidget-prevButton {
	float: left;
}

.mw-widget-calendarWidget-nextButton {
	float: right;
}

.mw-widget-calendarWidget-body-outer-wrapper {
	clear: both;
	position: relative;
	overflow: hidden;
	// Fit 7 days, 3em each
	width: @calendar-width;
	// Fit 6 weeks + heading line, 2em each
	height: @calendar-height;
}

.mw-widget-calendarWidget-body-wrapper {
	.mw-widget-calendarWidget-body {
		display: inline-block;
		// Fit 7 days, 3em each
		width: @calendar-width;
		// Fit 6 weeks + heading line, 2em each
		height: @calendar-height;
	}

	.mw-widget-calendarWidget-old-body {
		// background: #fdd;
	}

	.mw-widget-calendarWidget-body:not(.mw-widget-calendarWidget-old-body):first-child {
		margin-top: -@calendar-height;
		margin-left: -@calendar-width;
	}

	.mw-widget-calendarWidget-body:not(.mw-widget-calendarWidget-old-body):last-child {
		margin-top: 0;
		margin-left: 0;
	}
}

.mw-widget-calendarWidget-body-wrapper-fade-previous {
	width: @calendar-width * 2;
	height: @calendar-height;

	.mw-widget-calendarWidget-body:first-child {
		margin-top: 0 !important;
		margin-left: 0 !important;
		transition: 0.5s margin-left;
	}
}

.mw-widget-calendarWidget-body-wrapper-fade-next {
	width: @calendar-width * 2;
	height: @calendar-height;

	.mw-widget-calendarWidget-body:first-child {
		margin-left: -@calendar-width !important;
		margin-top: 0 !important;
		transition: 0.5s margin-left;
	}
}

.mw-widget-calendarWidget-body-wrapper-fade-up {
	width: @calendar-width;
	height: @calendar-height * 2;

	.mw-widget-calendarWidget-body {
		display: block;
	}

	.mw-widget-calendarWidget-body:first-child {
		margin-left: 0 !important;
		margin-top: 0 !important;
		transition: 0.5s margin-top;
	}
}

.mw-widget-calendarWidget-body-wrapper-fade-down {
	width: @calendar-width;
	height: @calendar-height * 2;

	.mw-widget-calendarWidget-body {
		display: block;
	}

	.mw-widget-calendarWidget-body:first-child {
		margin-left: 0 !important;
		margin-top: -@calendar-height !important;
		transition: 0.5s margin-top;
	}
}

.mw-widget-calendarWidget-day,
.mw-widget-calendarWidget-day-heading,
.mw-widget-calendarWidget-month,
.mw-widget-calendarWidget-year {
	display: inline-block;
	vertical-align: middle;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	text-align: center;
}

.mw-widget-calendarWidget-day,
.mw-widget-calendarWidget-day-heading {
	// 7x7 grid
	width: @calendar-width / 7;
	line-height: @calendar-height / 7;
	// Don't overlap the hacked-up fake box-shadow border we get inside DateInputWidget when focussed
	&:nth-child(7n) {
		width: @calendar-width / 7 - 0.2em;
		margin-right: 0.2em;
	}
	&:nth-child(7n+1) {
		width: @calendar-width / 7 - 0.2em;
		margin-left: 0.2em;
	}
	&:nth-child(42) ~ & {
		line-height: @calendar-height / 7 - 0.2em;
		margin-bottom: 0.2em;
	}
}

.mw-widget-calendarWidget-month {
	// 2x6 grid
	width: @calendar-width / 2;
	line-height: @calendar-height / 6;
	// Don't overlap the hacked-up fake box-shadow border we get inside DateInputWidget when focussed
	&:nth-child(2n) {
		width: @calendar-width / 2 - 0.2em;
		margin-right: 0.2em;
	}
	&:nth-child(2n+1) {
		width: @calendar-width / 2 - 0.2em;
		margin-left: 0.2em;
	}
	&:nth-child(10) ~ & {
		line-height: @calendar-height / 6 - 0.2em;
		margin-bottom: 0.2em;
	}
}

.mw-widget-calendarWidget-year {
	// 5x4 grid
	width: @calendar-width / 5;
	line-height: @calendar-height / 4;
	// Don't overlap the hacked-up fake box-shadow border we get inside DateInputWidget when focussed
	&:nth-child(5n) {
		width: @calendar-width / 5 - 0.2em;
		margin-right: 0.2em;
	}
	&:nth-child(5n+1) {
		width: @calendar-width / 5 - 0.2em;
		margin-left: 0.2em;
	}
	&:nth-child(15) ~ & {
		line-height: @calendar-height / 4 - 0.2em;
		margin-bottom: 0.2em;
	}
}

.mw-widget-calendarWidget-item {
	cursor: pointer;
}

/* Theme-specific */
.mw-widget-calendarWidget-day {
	color: #444;
}

.mw-widget-calendarWidget-day-heading {
	font-weight: bold;
	color: #555;
}

.mw-widget-calendarWidget-day-additional {
	color: #aaa;
}

.mw-widget-calendarWidget-day-today {
	// Intentionally left blank.
}

.mw-widget-calendarWidget-item-selected {
	background-color: #d8e6fe;
	color: #3787fb;

	&.mw-widget-calendarWidget-day,
	&.mw-widget-calendarWidget-day-heading {
		border-radius: ((@calendar-height / 7) / 2);
	}

	&.mw-widget-calendarWidget-month {
		border-radius: ((@calendar-height / 6) / 2);
	}

	&.mw-widget-calendarWidget-year {
		border-radius: ((@calendar-height / 4) / 2);
	}
}

.mw-widget-calendarWidget-item:hover {
	background-color: #eee;

	&.mw-widget-calendarWidget-day,
	&.mw-widget-calendarWidget-day-heading {
		border-radius: ((@calendar-height / 7) / 4);
	}

	&.mw-widget-calendarWidget-month {
		border-radius: ((@calendar-height / 6) / 4);
	}

	&.mw-widget-calendarWidget-year {
		border-radius: ((@calendar-height / 4) / 4);
	}
}
