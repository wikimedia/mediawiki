// Temporarily render the collapse link while it loads (T42812)
// see corresponding non-render blocking css in jquery.makeCollapsible
.client-js {

	ol.mw-collapsible:before,
	ul.mw-collapsible:before,
	.mw-collapsible-toggle-li {
		/*
		Rather than inherit any margins from the the general li selector - make sure this is explicit
		to avoid reflows
		*/
		display: list-item;
		// the added list item should have no list-style
		list-style: none;
		margin-bottom: 0.1em;
	}

	// And reset when mw-collapsible-toggle-li is rendered
	ol.mw-made-collapsible:before,
	ul.mw-made-collapsible:before {
		margin-bottom: 0;
		display: none;
	}

	ol.mw-collapsible:not(.mw-made-collapsible):before,
	ul.mw-collapsible:not(.mw-made-collapsible):before,
	table.mw-collapsible:not(.mw-made-collapsible) > caption:after {
		content: '[@{msg-collapsible-collapse}]';
	}

	td.mw-collapsed:not(.mw-made-collapsible):before,
	table.mw-collapsed:not(.mw-made-collapsible) tr:first-child th:last-child:before,
	div.mw-collapsed:not(.mw-made-collapsible):before {
		content: '[@{msg-collapsible-expand}]';
	}

	/* Align the toggle based on the direction of the content language */
	.mw-content-rtl .mw-collapsible-toggle,
	.mw-content-rtl .mw-collapsible-toggle {
		/* @noflip */
		float: left;
	}

	.mw-content-ltr table.mw-collapsed tr:first-child th:before,
	.mw-content-ltr .mw-collapsed:before {
		/* @noflip */
		float: right;
	}

	// Reserve space for table sortable controls
	table.sortable th {
		padding-right: 21px;
	}

	// Avoid FOUC/reflows on collapsed elements by making sure they are opened by default (T42812)
	.mw-collapsed > p,
	.mw-collapsed > table,
	table.mw-collapsed tr:not( :first-child ),
	div.mw-collapsed .mw-collapsible-content {
		display: none;
	}
}
