@import "mediawiki.mixins";

// Icons
//
// Markup:
// <div class="mw-ui-icon mw-ui-icon-ok mw-ui-icon-only">OK</div>
// <div class="mw-ui-icon mw-ui-icon-before mw-ui-icon-ok">OK</div>
// <div class="mw-ui-icon mw-ui-icon-after mw-ui-icon-ok">OK</div>
// <button class="mw-ui-button mw-ui-icon mw-ui-icon-ok mw-ui-icon-only mw-ui-progressive">OK</button>
// <button class="mw-ui-button mw-ui-icon mw-ui-icon-ok mw-ui-icon-before mw-ui-progressive">OK</button>
// <button class="mw-ui-button mw-ui-icon mw-ui-icon-ok mw-ui-icon-after mw-ui-progressive">OK</button>
//
// Styleguide 4.
.mw-ui-icon-ok {
	.mw-ui-icon-bgimage("images/ok.svg", "images/ok.png");
}

// Adds the container for the icon to the element, adds a gutter
// either side of the icon, and optionally hides the element's text.
//
// If the text is hidden, then explicitly set the element's width and
// remove any horizontal padding. Otherwise, add a gutter before the
// element's text for the icon.
//
// @icon_size - The size of the icon. Icons are assumed to be square,
//   so the width and height of the icon will be set to `@icon_size`.
// @gutter_width - The width of the icon gutter.
// @hide_text - Whether or not to hide the text of the element.
//   True by default.
.mw-ui-icon {
	@icon_size: 1.4em;
	@gutter_width: 1em;
	position: relative;
	min-height: @icon_size;
	&.mw-ui-icon-only {
		text-indent: -999px;
		overflow: hidden;
		width: @icon_size + ( 2 * @gutter_width );
		&:before,
		&::before {
			left: 0;
			right: 0;
			position: absolute;
		}
	}

	&:after,
	&::after,
	&:before,
	&::before {
		background-repeat: no-repeat;
		background-size: 100% 100%;
		display: inline-block;
		position: relative;
		height: @icon_size;
		content: '';
	}

	&.mw-ui-icon-before {
		&:before,
		&::before {
			width: @icon_size;
			padding-right: @gutter_width;
		}
	}

	&.mw-ui-icon-after {
		&:after,
		&::after {
			width: @icon_size;
			padding-left: @gutter_width;
		}
	}
}

.mw-ui-icon-bgimage(@icon_svg; @icon_png) {
	&.mw-ui-icon-only,
	&.mw-ui-icon-before {
		&::before,
		&:before {
			.background-image-svg(@icon_svg, @icon_png);
		}
	}
	&.mw-ui-icon-after {
		&::after,
		&:after {
			.background-image-svg(@icon_svg, @icon_png);
		}
	}
}
