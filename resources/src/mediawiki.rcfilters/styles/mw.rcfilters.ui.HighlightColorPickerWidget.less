@import 'mediawiki.ui/variables';
@import 'mw.rcfilters.mixins';
@import 'mw.rcfilters.variables';

.mw-rcfilters-ui-highlightColorPickerWidget {
	&-label {
		display: block;
		font-weight: bold;
		font-size: 1.2em;
	}

	&-buttonSelect {
		.mw-rcfilters-circle( 20px, @size-circle, @margin-circle );

		&-color {
			// Override OOUI definition from padded popup; the definition
			// forces the first-child to be margin-top: 0 which overrides
			// our definitions below where margin is ≈0.357em≈5px.
			// We set margin-top as 0.5em for all circles so we get
			// a consistent result
			&.oo-ui-widget-enabled.oo-ui-optionWidget.oo-ui-buttonElement.oo-ui-buttonElement-frameless.oo-ui-buttonOptionWidget {
				margin-top: @margin-circle;
			}

			// Make the rule much more specific to override OOUI
			.oo-ui-iconElement-icon.oo-ui-icon-check {
				// Override OOUI icon dimensions
				// The parent is ≈1.429em≈20px with ≈0.357em≈5px margin
				// (see mw-rcfilters-circle below)
				// so here we want 20px - 5px ≈ 1.071em≈15px
				width: @size-circle - @margin-circle;
				height: @size-circle - @margin-circle;
				// By eye, this is centered horizontally for the color circle
				margin-left: -0.1em;
			}

			&-none {
				.oo-ui-iconElement-icon.oo-ui-icon-check {
					// By eye, this is centered horizontally for the white circle
					margin-left: -0.2em;
				}

				.mw-rcfilters-circle-color( @highlight-none, true );
				// Override border to dashed
				border: 1px dashed @colorGray5;

				&.oo-ui-buttonOptionWidget.oo-ui-buttonElement-active,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-pressed,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-selected {
					background-color: @highlight-none;
				}
			}
			&-c1 {
				.mw-rcfilters-circle-color( @highlight-c1, true );

				&.oo-ui-buttonOptionWidget.oo-ui-buttonElement-active,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-pressed,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-selected {
					background-color: @highlight-c1;
				}
			}
			&-c2 {
				.mw-rcfilters-circle-color( @highlight-c2, true );

				&.oo-ui-buttonOptionWidget.oo-ui-buttonElement-active,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-pressed,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-selected {
					background-color: @highlight-c2;
				}
			}
			&-c3 {
				.mw-rcfilters-circle-color( @highlight-c3, true );

				&.oo-ui-buttonOptionWidget.oo-ui-buttonElement-active,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-pressed,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-selected {
					background-color: @highlight-c3;
				}
			}
			&-c4 {
				.mw-rcfilters-circle-color( @highlight-c4, true );

				&.oo-ui-buttonOptionWidget.oo-ui-buttonElement-active,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-pressed,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-selected {
					background-color: @highlight-c4;
				}
			}
			&-c5 {
				.mw-rcfilters-circle-color( @highlight-c5, true );

				&.oo-ui-buttonOptionWidget.oo-ui-buttonElement-active,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-pressed,
				&.oo-ui-buttonOptionWidget.oo-ui-optionWidget-selected {
					background-color: @highlight-c5;
				}
			}
		}
	}
}
